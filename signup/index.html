<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Flow IQ | Complete Business Management Platform</title>
    <meta name="description" content="Create your Flow IQ account and start managing your entire business with our unified ERP platform. 14-day free trial, no credit card required.">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Sign Up for Flow IQ — Complete Business Management Platform">
    <meta property="og:description" content="Create your Flow IQ account and start managing your entire business with our unified ERP platform.">
    <link rel="icon" type="image/svg+xml" href="/flowiq-iq-badge.svg?v=1">
    <link rel="icon" href="/favicon.ico">
    <link rel="shortcut icon" href="/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Cache busting to ensure updated code loads -->
    <script>
        console.log('Signup page loaded - version 3.3 (FlowIQ tick + password toggle)');
    </script>
    <style>
        .bg-freight-slate { background-color: #0f172a; }
        .bg-freight-slate-light { background-color: #1e293b; }
        .text-freight-orange { color: #f97316; }
        .bg-freight-orange { background-color: #f97316; }
        .hover\:bg-freight-orange-dark:hover { background-color: #ea580c; }
        .border-freight-orange { border-color: #f97316; }
        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
        }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    </style>
    <link rel="stylesheet" href="/flowiq-light.css?v=1">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="gradient-bg min-h-screen text-slate-100">
    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-freight-slate/90 backdrop-blur-md border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="/" aria-label="Flow IQ home" class="flex items-center">
                        <span class="inline-flex items-end leading-none select-none transition-transform duration-300">
                            <span class="text-white text-[1.35rem] font-semibold tracking-tight drop-shadow-sm">Flow</span>
                            <span class="ml-1 inline-flex items-center px-2 py-0.5 text-[0.95rem] font-semibold uppercase tracking-wide text-orange-400 bg-orange-500/10 border border-orange-400/60 rounded-md shadow-[0_0_12px_rgba(249,115,22,0.35)]">IQ</span>
                        </span>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <a class='text-slate-300 hover:text-white transition-colors' href='/login'>Already have an account? Sign In</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="pt-16 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <!-- Header -->
            <div class="text-center">
                <div class="mx-auto h-16 w-16 bg-freight-orange/20 rounded-full flex items-center justify-center mb-6">
                    <i data-lucide="building-2" class="text-freight-orange" style="width:32px;height:32px"></i>
                </div>
                <h2 class="text-3xl font-bold text-white mb-2">Create Your Account</h2>
                <p class="text-slate-300">Start your 14-day free trial. No credit card required.</p>
            </div>

            <!-- Plan Selection (optional) -->
            <div id="planCard" class="bg-freight-slate-light/70 rounded-xl border border-slate-700 p-5">
                <div class="flex items-start justify-between gap-4">
                    <div>
                        <div class="flex items-center gap-2">
                            <i data-lucide="layers" class="text-freight-orange" style="width:18px;height:18px"></i>
                            <h3 class="text-white font-semibold">Choose a plan</h3>
                        </div>
                        <p class="text-slate-300 text-sm mt-1">Pick what you want to start with — you can change plans anytime during your trial.</p>
                    </div>
                    <a class='text-sm text-slate-300 hover:text-white transition-colors whitespace-nowrap' href='/pricing'>View pricing</a>
                </div>

                <div class="mt-4 grid grid-cols-2 gap-3" role="radiogroup" aria-label="Select a FlowIQ plan">
                    <button type="button" class="plan-option border border-slate-600 hover:border-orange-500/70 rounded-lg px-4 py-3 text-left transition-all cursor-pointer focus:outline-none focus:ring-0 active:scale-[0.98]" data-plan="starter">
                        <div class="text-white font-semibold">Starter</div>
                        <div class="text-xs text-slate-300">Solo founders</div>
                    </button>
                    <button type="button" class="plan-option border border-slate-600 hover:border-orange-500/70 rounded-lg px-4 py-3 text-left transition-all cursor-pointer focus:outline-none focus:ring-0 active:scale-[0.98]" data-plan="growth">
                        <div class="text-white font-semibold">Growth</div>
                        <div class="text-xs text-slate-300">Small teams</div>
                    </button>
                    <button type="button" class="plan-option border border-slate-600 hover:border-orange-500/70 rounded-lg px-4 py-3 text-left transition-all cursor-pointer focus:outline-none focus:ring-0 active:scale-[0.98]" data-plan="professional">
                        <div class="text-white font-semibold">Professional</div>
                        <div class="text-xs text-slate-300">Established ops</div>
                    </button>
                    <button type="button" class="plan-option border border-slate-600 hover:border-orange-500/70 rounded-lg px-4 py-3 text-left transition-all cursor-pointer focus:outline-none focus:ring-0 active:scale-[0.98]" data-plan="scale">
                        <div class="text-white font-semibold">Scale</div>
                        <div class="text-xs text-slate-300">High volume</div>
                    </button>
                </div>

                <div class="mt-4 flex items-center justify-between gap-3">
                    <div class="text-sm text-slate-300">
                        Selected: <span id="selectedPlanName" class="text-white font-semibold">Growth</span>
                    </div>
                    <a class='text-sm text-slate-300 hover:text-white transition-colors' href='/#demo'>Enterprise? Request demo</a>
                </div>
            </div>

            <!-- Signup Form -->
            <div class="bg-freight-slate-light rounded-xl shadow-2xl p-8 border border-slate-700">
                <form id="signupForm" class="space-y-6">
                    <input type="hidden" id="selectedPlan" name="selectedPlan" value="" />
                    <!-- Company Information -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold text-white border-b border-slate-600 pb-2">Company Information</h3>
                        
                        <div>
                            <label for="companyName" class="block text-sm font-medium text-slate-300 mb-2">Company Name *</label>
                            <input 
                                id="companyName" 
                                name="companyName" 
                                type="text" 
                                required 
                                autocomplete="organization"
                                class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                placeholder="Your Company Name"
                            >
                        </div>

                        <div>
                            <label for="industry" class="block text-sm font-medium text-slate-300 mb-2">Industry</label>
                            <select 
                                id="industry" 
                                name="industry" 
                                class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                            >
                                <option value="">Select your industry</option>
                                <option value="freight-logistics">Freight & Logistics</option>
                                <option value="wholesale-distribution">Wholesale Distribution</option>
                                <option value="manufacturing">Manufacturing</option>
                                <option value="retail">Retail</option>
                                <option value="import-export">Import/Export</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="employees" class="block text-sm font-medium text-slate-300 mb-2">Company Size</label>
                                <select 
                                    id="employees" 
                                    name="employees" 
                                    class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                >
                                    <option value="">Select size</option>
                                    <option value="1-5">1-5 employees</option>
                                    <option value="6-15">6-15 employees</option>
                                    <option value="16-50">16-50 employees</option>
                                    <option value="51-200">51-200 employees</option>
                                    <option value="200+">200+ employees</option>
                                </select>
                            </div>

                            <div>
                                <label for="country" class="block text-sm font-medium text-slate-300 mb-2">Country</label>
                                <select 
                                    id="country" 
                                    name="country" 
                                    class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                >
                                    <option value="">Select country</option>
                                    <option value="US">United States</option>
                                    <option value="CA">Canada</option>
                                    <option value="GB">United Kingdom</option>
                                    <option value="AU">Australia</option>
                                    <option value="ZA">South Africa</option>
                                    <option value="NZ">New Zealand</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Admin User Information -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold text-white border-b border-slate-600 pb-2">Admin User Details</h3>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="firstName" class="block text-sm font-medium text-slate-300 mb-2">First Name *</label>
                                <input 
                                    id="firstName" 
                                    name="firstName" 
                                    type="text" 
                                    required 
                                    autocomplete="given-name"
                                    class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                    placeholder="John"
                                >
                            </div>

                            <div>
                                <label for="lastName" class="block text-sm font-medium text-slate-300 mb-2">Last Name *</label>
                                <input 
                                    id="lastName" 
                                    name="lastName" 
                                    type="text" 
                                    required 
                                    autocomplete="family-name"
                                    class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                    placeholder="Smith"
                                >
                            </div>
                        </div>

                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-300 mb-2">Work Email *</label>
                            <input 
                                id="email" 
                                name="email" 
                                type="email" 
                                required 
                                autocomplete="email"
                                class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                placeholder="john@yourcompany.com"
                            >
                        </div>

                        <div>
                            <label for="phone" class="block text-sm font-medium text-slate-300 mb-2">Phone Number</label>
                            <input 
                                id="phone" 
                                name="phone" 
                                type="tel" 
                                autocomplete="tel"
                                class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors"
                                placeholder="+1 (555) 123-4567"
                            >
                        </div>

                        <div>
                            <label for="password" class="block text-sm font-medium text-slate-300 mb-2">Password *</label>
                            <div class="relative">
                                <input 
                                    id="password" 
                                    name="password" 
                                    type="password" 
                                    required 
                                    autocomplete="new-password"
                                    class="w-full px-4 py-3 bg-freight-slate border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-freight-orange focus:outline-none focus:ring-2 focus:ring-freight-orange/20 transition-colors pr-12"
                                    placeholder="Create a strong password"
                                    minlength="8"
                                >
                                <button 
                                    type="button" 
                                    id="togglePassword" 
                                    class="absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-white"
                                >
                                    <i data-lucide="eye" style="width:20px;height:20px"></i>
                                </button>
                            </div>
                            <p class="text-xs text-slate-400 mt-1">Minimum 8 characters with letters and numbers</p>
                        </div>
                    </div>

                    <!-- Legal acceptance (required) -->
                    <div class="space-y-3">
                        <div class="flex items-start gap-3">
                            <div class="relative flex-shrink-0 mt-0.5">
                                <input 
                                    id="terms" 
                                    name="terms" 
                                    type="checkbox" 
                                    required 
                                    class="sr-only"
                                >
                                <label for="terms" class="checkbox-label flex items-center justify-center w-5 h-5 bg-freight-slate border border-slate-600 rounded cursor-pointer transition-all duration-200 hover:border-freight-orange focus-within:ring-2 focus-within:ring-freight-orange focus-within:ring-opacity-20">
                                    <!-- FlowIQ tick (brand-style, stroked) -->
                                    <svg class="checkbox-icon w-3.5 h-3.5 text-freight-orange opacity-0 transition-opacity duration-200" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <path d="M4.6 10.4l3.1 3.1L15.6 5.9"></path>
                                    </svg>
                                </label>
                            </div>
                            <label for="terms" class="text-sm text-slate-300 cursor-pointer leading-relaxed flex-1">
                                I have read and agree to the <span class="text-freight-orange hover:underline">FlowIQ Terms and Conditions</span>.
                            </label>
                        </div>

                        <div class="flex items-start gap-3">
                            <div class="relative flex-shrink-0 mt-0.5">
                                <input 
                                    id="privacy" 
                                    name="privacy" 
                                    type="checkbox" 
                                    required 
                                    class="sr-only"
                                >
                                <label for="privacy" class="checkbox-label flex items-center justify-center w-5 h-5 bg-freight-slate border border-slate-600 rounded cursor-pointer transition-all duration-200 hover:border-freight-orange focus-within:ring-2 focus-within:ring-freight-orange focus-within:ring-opacity-20">
                                    <!-- FlowIQ tick (brand-style, stroked) -->
                                    <svg class="checkbox-icon w-3.5 h-3.5 text-freight-orange opacity-0 transition-opacity duration-200" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <path d="M4.6 10.4l3.1 3.1L15.6 5.9"></path>
                                    </svg>
                                </label>
                            </div>
                            <label for="privacy" class="text-sm text-slate-300 cursor-pointer leading-relaxed flex-1">
                                I have read and agree to the <span class="text-freight-orange hover:underline">FlowIQ Privacy Policy (POPIA)</span>.
                            </label>
                        </div>

                        <details class="rounded-lg border border-slate-700 bg-freight-slate p-3">
                            <summary class="cursor-pointer text-sm text-freight-orange">View FlowIQ Terms & Conditions + Privacy Policy (POPIA)</summary>
                            <div class="mt-3 max-h-56 overflow-auto whitespace-pre-wrap text-xs text-slate-200">
FLOWIQ

TERMS AND CONDITIONS OF USE

Last Updated: 8 January 2026
Governing Law: Republic of South Africa

⸻

IMPORTANT – LEGALLY BINDING AGREEMENT

By clicking “Create Account”, “Sign Up”, “Register”, or any similar action, you confirm that:
	•	You have read, understood, and agreed to these Terms and Conditions
	•	You are legally authorised to bind yourself or the entity you represent
	•	Your use of FlowIQ is entirely at your own risk

If you do not agree, do not use the Platform.

⸻

1. DEFINITIONS

“Platform” means the FlowIQ software platform, including all modules, dashboards, tools, AI components, calculations, reports, forecasts, integrations, and interfaces.

“Company” means FlowIQ (Pty) Ltd, including its directors, officers, shareholders, employees, contractors, licensors, and agents.

“User” means any individual or entity accessing or using the Platform.

“Data” means all information uploaded, imported, entered, processed, generated, or exported by the User.

⸻

2. PLATFORM PURPOSE – NO ADVICE

FlowIQ is provided solely as a software-as-a-service (SaaS) tool.

FlowIQ does not provide:
	•	Financial advice
	•	Accounting advice
	•	Tax advice
	•	Legal advice
	•	Logistics advice
	•	Business or commercial advice

All outputs, calculations, analytics, projections, insights, recommendations, and reports are:
	•	Informational only
	•	Indicative
	•	Dependent entirely on user-supplied data
	•	Not guaranteed to be accurate, complete, or fit for any purpose

The User remains fully and solely responsible for:
	•	Verifying all outputs
	•	Consulting qualified professionals
	•	All decisions, actions, and consequences arising from Platform use

⸻

3. USER DATA RESPONSIBILITY

The User:
	•	Warrants they have the legal right to upload and use all Data
	•	Accepts full responsibility for the accuracy, completeness, and legality of all Data
	•	Acknowledges that incorrect or incomplete Data will produce incorrect outputs

The Company does not audit, validate, or verify User Data.

⸻

4. DATA STORAGE, SECURITY & LOSS

While reasonable technical and organisational safeguards are applied:

The Company does not warrant that:
	•	Data will be error-free
	•	Data will not be lost, corrupted, delayed, or accessed unlawfully
	•	The Platform will be uninterrupted or fully secure

The User expressly acknowledges that:
	•	Data loss may occur
	•	Backups are the User’s responsibility
	•	FlowIQ is not a system of record

⸻

5. AI, AUTOMATION & FORECASTING DISCLAIMER

Where the Platform uses:
	•	Artificial intelligence
	•	Automation
	•	Forecasting
	•	Predictive analytics
	•	Optimisation logic

Such outputs:
	•	Are probabilistic and non-deterministic
	•	May be incomplete, inaccurate, or misleading
	•	Must never be relied upon as guarantees or factual outcomes

The User assumes all risk arising from reliance on AI-assisted or automated outputs.

⸻

6. LIMITATION OF LIABILITY (CRITICAL)

To the maximum extent permitted by law, the Company shall not be liable for any:
	•	Loss of income
	•	Loss of profits
	•	Loss of business or contracts
	•	Loss of data
	•	Loss of goodwill
	•	Business interruption
	•	Indirect, incidental, special, or consequential damages
	•	Errors, omissions, or inaccuracies
	•	Decisions made based on Platform outputs
	•	Failures of third-party services or integrations

Total aggregate liability, if any, is strictly limited to:

➡ The fees actually paid by the User to FlowIQ in the preceding three (3) months

If no fees were paid:

➡ Total liability is zero

⸻

7. INDEMNITY

The User indemnifies and holds harmless the Company against all claims, damages, losses, costs, and legal expenses arising from or related to:
	•	Use of the Platform
	•	Reliance on any outputs
	•	Uploaded or processed Data
	•	Breach of these Terms
	•	Claims by third parties

⸻

8. AVAILABILITY & CHANGES

The Company may:
	•	Modify, suspend, or discontinue any feature at any time
	•	Deploy updates or changes without notice
	•	Alter functionality, logic, or availability

No uptime, availability, or feature-continuity guarantees are provided.

⸻

9. THIRD-PARTY SERVICES

The Platform may integrate with third-party services.

The Company:
	•	Does not control third-party systems
	•	Makes no warranties regarding them
	•	Bears no liability for third-party failures, interruptions, or losses

⸻

10. CONFIDENTIALITY & INTELLECTUAL PROPERTY

All Platform logic, calculations, architecture, workflows, designs, and documentation are proprietary and confidential.

The User may not:
	•	Reverse engineer
	•	Copy, resell, or sublicense
	•	Extract or replicate logic
	•	Use the Platform to compete

⸻

11. TERMINATION

The Company may suspend or terminate access:
	•	For breach of these Terms
	•	For misuse
	•	For risk exposure
	•	At its sole discretion

All disclaimers, limitations, and indemnities survive termination.

⸻

12. GOVERNING LAW & JURISDICTION

These Terms are governed by the laws of the Republic of South Africa.

The courts of South Africa have exclusive jurisdiction.

⸻

13. SEVERABILITY

If any provision is found unenforceable, the remaining provisions remain fully enforceable.

⸻

14. ENTIRE AGREEMENT

These Terms constitute the entire agreement between the User and the Company and override all prior discussions or representations.

⸻

15. CONTACT

Legal notices:
info@flowiq.co.za


⸻

ENTERPRISE & CUSTOM AGREEMENTS

Notwithstanding anything in these Terms:
	•	Enterprise or high-value clients may be subject to a separately negotiated written agreement
	•	Only a document signed by an authorised director of FlowIQ may override these Terms
	•	Verbal assurances, emails, proposals, or sales discussions do not modify liability
	•	In the event of conflict, the signed enterprise agreement prevails only for that client

All other provisions remain fully enforceable.


FLOWIQ

PRIVACY POLICY (POPIA)

Last Updated: 8 January 2026
Applicable Law: Protection of Personal Information Act, 4 of 2013 (POPIA)

⸻

1. PURPOSE

FlowIQ respects user privacy and processes personal information in accordance with POPIA.

This policy explains how personal information is collected, used, stored, and protected.

⸻

2. INFORMATION WE COLLECT

FlowIQ may process:
	•	Account details (name, email, company name)
	•	Login credentials (encrypted)
	•	Usage and interaction data
	•	Business and operational data uploaded by users
	•	Technical data (IP address, browser type, device data)

FlowIQ does not verify the accuracy of uploaded data.

⸻

3. PURPOSE OF PROCESSING

Personal information is processed to:
	•	Provide and operate the Platform
	•	Authenticate users
	•	Improve performance and features
	•	Communicate service-related notices
	•	Comply with legal obligations

⸻

4. DATA OWNERSHIP
	•	Users retain ownership of all uploaded data
	•	FlowIQ acts as a data operator, not a data owner
	•	Users confirm they have lawful authority to upload all data

⸻

5. DATA SECURITY

FlowIQ implements reasonable technical and organisational safeguards.

However:
	•	No system is completely secure
	•	FlowIQ does not guarantee prevention of breaches or data loss
	•	Users remain responsible for backups and redundancy

⸻

6. DATA RETENTION
	•	Data is retained only as long as necessary for platform operation or legal compliance
	•	Upon account termination, data may be deleted or anonymised at FlowIQ’s discretion unless legally required otherwise

⸻

7. DATA SHARING

FlowIQ:
	•	Does not sell personal data
	•	May share data with trusted service providers strictly for platform operation
	•	May disclose data if legally required

⸻

8. USER RIGHTS (POPIA)

Users may request to:
	•	Access personal data
	•	Correct inaccurate data
	•	Delete personal data (subject to legal limits)

Requests can be sent to:
legal@flowiq.co.za

⸻

9. LIMITATION

FlowIQ is not responsible for:
	•	Data uploaded by users about third parties
	•	User misuse of personal information
	•	Compliance failures caused by user actions

⸻

10. CHANGES

This policy may be updated at any time. Continued use constitutes acceptance.

⸻
                            </div>
                        </details>
                    </div>

                    <!-- Submit Button -->
                    <button 
                        type="submit" 
                        id="submitButton"
                        class="w-full bg-freight-orange hover:bg-freight-orange-dark text-white py-3 px-4 rounded-lg font-semibold text-lg transition-all transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-freight-orange/20 disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        <span id="buttonText">Start Your Free Trial</span>
                        <div id="loadingSpinner" class="hidden inline-block ml-2">
                            <div class="animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"></div>
                        </div>
                    </button>
                    <p class="mt-2 text-center text-xs text-slate-400">
                        Selected: <span id="selectedPlanInline" class="text-slate-200 font-semibold">Growth</span> <span class="text-slate-500">• change anytime</span>
                    </p>

                    <!-- Error/Success Messages -->
                    <div id="message" class="hidden p-4 rounded-lg"></div>
                </form>

                <!-- Social Proof -->
                <div class="mt-8 pt-6 border-t border-slate-600">
                    <div class="text-center">
                        <p class="text-sm text-slate-400 mb-3">Trusted by growing businesses worldwide</p>
                        <div class="flex items-center justify-center space-x-6 text-slate-500">
                            <div class="flex items-center space-x-2">
                                <i data-lucide="shield-check" class="text-green-500" style="width:16px;height:16px"></i>
                                <span class="text-xs">Bank-level security</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i data-lucide="clock" class="text-blue-500" style="width:16px;height:16px"></i>
                                <span class="text-xs">Live in 24 hours</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i data-lucide="star" class="text-yellow-500" style="width:16px;height:16px"></i>
                                <span class="text-xs">14-day free trial</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Lucide icons
            if (window.lucide) { window.lucide.createIcons(); }

            // Initialize Supabase
            // IMPORTANT: Do not name this variable `supabase` because the Supabase UMD bundle
            // declares a global `supabase` identifier. Re-declaring it here will hard-crash
            // this entire script block (and break plan selection, submission, etc).
            const supabaseUrl = 'https://yvbhjlmvpipniedwvdji.supabase.co';
            const supabaseKey = 'sb_publishable_8VnlIrOQ-FKqYVacj50Pbw_25kjFUXl';
        // NOTE: This marketing signup page does not need a Supabase JS client instance.
        // Creating one via the CDN bundle was crashing the page in production, which prevented
        // plan selection + checkbox visuals + password toggle from working.

            // Plan preselection (pricing -> signup). Safe: does NOT change backend signup payload.
            ;(function initPlanSelection() {
            const allowedPlans = ['starter', 'growth', 'professional', 'scale'];
            const planLabels = {
                starter: 'Starter',
                growth: 'Growth',
                professional: 'Professional',
                scale: 'Scale'
            };
            const planCtaLabels = {
                starter: 'Start Starter Free Trial',
                growth: 'Start Growth Free Trial',
                professional: 'Start Professional Free Trial',
                scale: 'Start Scale Free Trial'
            };

            const params = new URLSearchParams(window.location.search || '');
            const paramPlan = (params.get('plan') || '').toLowerCase();
            const storedPlan = (localStorage.getItem('flowiq_selected_plan') || '').toLowerCase();

            let activePlan = allowedPlans.includes(paramPlan) ? paramPlan : (allowedPlans.includes(storedPlan) ? storedPlan : 'growth');

            const selectedPlanInput = document.getElementById('selectedPlan');
            const selectedPlanName = document.getElementById('selectedPlanName');
            const selectedPlanInline = document.getElementById('selectedPlanInline');
            const planButtons = Array.from(document.querySelectorAll('.plan-option[data-plan]'));
            const buttonTextEl = document.getElementById('buttonText');

            function render() {
                if (selectedPlanInput) selectedPlanInput.value = activePlan;
                if (selectedPlanName) selectedPlanName.textContent = planLabels[activePlan] || 'Growth';
                if (selectedPlanInline) selectedPlanInline.textContent = planLabels[activePlan] || 'Growth';
                planButtons.forEach((btn) => {
                    const btnPlan = (btn.getAttribute('data-plan') || '').toLowerCase();
                    const isActive = btnPlan === activePlan;
                    // Reset all styles
                    btn.style.borderColor = '';
                    btn.style.backgroundColor = '';
                    btn.style.boxShadow = '';
                    btn.classList.remove('border-freight-orange', 'bg-freight-orange/10', 'border-slate-600');
                    // Apply active styles
                    if (isActive) {
                        btn.classList.add('border-freight-orange', 'bg-freight-orange/10');
                        btn.style.borderColor = '#f97316';
                        btn.style.backgroundColor = 'rgba(249, 115, 22, 0.1)';
                        btn.style.boxShadow = '0 0 0 2px rgba(249, 115, 22, 0.5), 0 0 12px rgba(249, 115, 22, 0.5)';
                    } else {
                        btn.classList.add('border-slate-600');
                        btn.style.borderColor = '#475569';
                    }
                });
                if (buttonTextEl) {
                    buttonTextEl.textContent = planCtaLabels[activePlan] || 'Start Your Free Trial';
                }
            }

            function setPlan(next) {
                if (!allowedPlans.includes(next)) return;
                activePlan = next;
                try { localStorage.setItem('flowiq_selected_plan', activePlan); } catch (_) {}
                render();
            }

            planButtons.forEach((btn) => {
                btn.addEventListener('click', () => setPlan((btn.getAttribute('data-plan') || '').toLowerCase()));
            });

            render();
            })();

            // Password visibility toggle
            const togglePasswordBtn = document.getElementById('togglePassword');
            const passwordInput = document.getElementById('password');
            if (togglePasswordBtn && passwordInput) {
                togglePasswordBtn.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    const nextIcon = (passwordInput.type === 'password') ? 'eye-off' : 'eye';
                    passwordInput.type = (passwordInput.type === 'password') ? 'text' : 'password';

                    // Lucide replaces <i> with <svg>, so we re-render the <i> each time.
                    togglePasswordBtn.innerHTML = `<i data-lucide="${nextIcon}" style="width:20px;height:20px"></i>`;
                    if (window.lucide) { window.lucide.createIcons(); }
                };
            }

            // Custom checkbox behavior - simplified and robust
            function wireCustomCheckbox(id) {
                const checkbox = document.getElementById(id);
                if (!checkbox) return;
                
                const checkboxLabel = document.querySelector(`label.checkbox-label[for="${id}"]`);
                const svg = checkboxLabel ? checkboxLabel.querySelector('svg.checkbox-icon') : null;
                if (!svg) return;
                
                function updateCheckboxState() {
                    if (checkbox.checked) {
                        svg.style.opacity = '1';
                        svg.classList.remove('opacity-0');
                        svg.classList.add('opacity-100');
                    } else {
                        svg.style.opacity = '0';
                        svg.classList.remove('opacity-100');
                        svg.classList.add('opacity-0');
                    }
                }
                
                // Handle checkbox change
                checkbox.onchange = updateCheckboxState;
                
                // Handle clicks on checkbox label box
                if (checkboxLabel) {
                    checkboxLabel.onclick = function(e) {
                        e.preventDefault();
                        checkbox.checked = !checkbox.checked;
                        updateCheckboxState();
                    };
                }
                
                // Handle clicks on text label
                const textLabel = document.querySelector(`label[for="${id}"]:not(.checkbox-label)`);
                if (textLabel) {
                    textLabel.onclick = function(e) {
                        checkbox.checked = !checkbox.checked;
                        updateCheckboxState();
                    };
                }
                
                // Initial state
                updateCheckboxState();
            }
            
            // Wire checkboxes
            setTimeout(() => {
                wireCustomCheckbox('terms');
                wireCustomCheckbox('privacy');
            }, 100);

            // Form submission - Version 3.0 (Anti-Spam Email Confirmation)
            console.log('Signup form initialized - using email confirmation protection');
            document.getElementById('signupForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitButton = document.getElementById('submitButton');
            const buttonText = document.getElementById('buttonText');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const messageDiv = document.getElementById('message');
            
            // Show loading state
            submitButton.disabled = true;
            buttonText.textContent = 'Creating Account...';
            loadingSpinner.classList.remove('hidden');
            messageDiv.classList.add('hidden');
            
            try {
                const formData = new FormData(this);
                
                // Generate UUID for organization (required by database)
                const orgId = crypto.randomUUID();
                
                // ✅ BYPASS RATE LIMITS: Use Edge Function to avoid email rate limits
                const response = await fetch("https://yvbhjlmvpipniedwvdji.supabase.co/functions/v1/public-signup", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${supabaseKey}`
                    },
                    body: JSON.stringify({
                        email: formData.get('email'),
                        password: formData.get('password'),
                        org_id: orgId,  // Required by edge function
                        company_name: formData.get('companyName'),
                        industry: formData.get('industry'),
                        employees: formData.get('employees'),
                        country: formData.get('country'),
                        phone: formData.get('phone'),
                        first_name: formData.get('firstName'),
                        last_name: formData.get('lastName'),
                        surname: formData.get('lastName'),
                        // ✅ Legal acceptance (required)
                        terms_accepted: document.getElementById('terms')?.checked === true,
                        terms_version: '2026-01-08',
                        terms_accepted_at: new Date().toISOString(),
                        privacy_accepted: document.getElementById('privacy')?.checked === true,
                        privacy_version: '2026-01-08',
                        privacy_accepted_at: new Date().toISOString(),
                        email_confirm: true // Bypass email confirmation for testing
                    })
                });

                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || 'Failed to create account');
                }
                
                // ✅ SUCCESS: Account created with organization (bypasses rate limits)
                messageDiv.className = 'p-4 rounded-lg bg-blue-500/20 border border-blue-500/30';
                messageDiv.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <i data-lucide="mail" class="text-blue-500" style="width:20px;height:20px"></i>
                        <div>
                            <p class="text-blue-400 font-semibold">Check Your Email!</p>
                            <p class="text-blue-300 text-sm mt-1">We've sent a confirmation link to ${formData.get('email')}. Click the link to activate your account and create your organization.</p>
                        </div>
                    </div>
                `;
                messageDiv.classList.remove('hidden');
                
                // Reset form
                this.reset();
                
                // Don't redirect - let user check email first

            } catch (error) {
                console.error('Signup error:', error);
                
                // Show error
                messageDiv.className = 'p-4 rounded-lg bg-red-500/20 border border-red-500/30';
                messageDiv.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <i data-lucide="alert-circle" class="text-red-500" style="width:20px;height:20px"></i>
                        <div>
                            <p class="text-red-400 font-semibold">Error Creating Account</p>
                            <p class="text-red-300 text-sm mt-1">${error.message}</p>
                        </div>
                    </div>
                `;
                messageDiv.classList.remove('hidden');
            } finally {
                // Reset button state
                submitButton.disabled = false;
                // Respect selected plan label after submission attempt
                const planFromState = (document.getElementById('selectedPlan')?.value || '').toLowerCase();
                const planToCta = {
                    starter: 'Start Starter Free Trial',
                    growth: 'Start Growth Free Trial',
                    professional: 'Start Professional Free Trial',
                    scale: 'Start Scale Free Trial'
                };
                buttonText.textContent = planToCta[planFromState] || 'Start Your Free Trial';
                loadingSpinner.classList.add('hidden');
                
                if (window.lucide) { window.lucide.createIcons(); }
            }
            });
        });
    </script>
</body>
</html>
